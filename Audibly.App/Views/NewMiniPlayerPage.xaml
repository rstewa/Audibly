<?xml version="1.0" encoding="utf-8" ?>

<!--  ReSharper disable once Xaml.InvalidResourceType  -->
<Page
    Background="{ThemeResource AudiblyBackgroundBrush}"
    mc:Ignorable="d"
    x:Class="Audibly.App.Views.NewMiniPlayerPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:userControls="using:Audibly.App.UserControls"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <!--  ReSharper disable all Xaml.RedundantResource  -->

    <Page.Resources>
        <userControls:ProgressSliderValueConverter x:Key="ProgressSliderValueConverter" />
    </Page.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <!-- <RowDefinition Height="*" /> -->
        </Grid.RowDefinitions>

        <StackPanel
            Canvas.ZIndex="1"
            Grid.Row="0"
            HorizontalAlignment="Stretch"
            Margin="0,0,0,8"
            Orientation="Horizontal"
            Padding="8"
            Spacing="8"
            VerticalAlignment="Center">
            <userControls:CoverImageTile CoverImageRadius="6" CoverImageSize="60" />
            <userControls:TitleArtistStack TitleMaxWidth="130" Width="130" />
            <userControls:PlaySkipButtonsStack Spacing="-12" />

            <Border
                Background="{ThemeResource AppBarSeparatorForeground}"
                Height="30"
                Width="1"
                x:Name="Separator" />

            <StackPanel Orientation="Horizontal" Spacing="-8">
                <!--  pin button  -->
                <Button
                    Background="Transparent"
                    BorderThickness="0"
                    Click="PinButton_Click"
                    HorizontalAlignment="Right"
                    ToolTipService.ToolTip="Pin Mini Player"
                    VerticalAlignment="Center"
                    x:Name="PinButton">
                    <Button.Resources>
                        <SolidColorBrush x:Key="ButtonBackground">Transparent</SolidColorBrush>
                        <SolidColorBrush x:Key="ButtonBackgroundPointerOver">Transparent</SolidColorBrush>
                        <SolidColorBrush x:Key="ButtonBackgroundPressed">Transparent</SolidColorBrush>
                        <SolidColorBrush x:Key="ButtonBackgroundDisabled">Transparent</SolidColorBrush>
                    </Button.Resources>
                    <FontIcon
                        FontFamily="Segoe MDL2 Assets"
                        FontSize="16"
                        Glyph="&#xE840;" />
                </Button>

                <!--  unpin button  -->
                <Button
                    Background="Transparent"
                    BorderThickness="0"
                    Click="UnpinButton_Click"
                    HorizontalAlignment="Right"
                    ToolTipService.ToolTip="Unpin Mini Player"
                    VerticalAlignment="Center"
                    Visibility="Collapsed"
                    x:Name="UnpinButton">
                    <Button.Resources>
                        <SolidColorBrush x:Key="ButtonBackground">Transparent</SolidColorBrush>
                        <SolidColorBrush x:Key="ButtonBackgroundPointerOver">Transparent</SolidColorBrush>
                        <SolidColorBrush x:Key="ButtonBackgroundPressed">Transparent</SolidColorBrush>
                        <SolidColorBrush x:Key="ButtonBackgroundDisabled">Transparent</SolidColorBrush>
                    </Button.Resources>
                    <FontIcon
                        FontFamily="Segoe MDL2 Assets"
                        FontSize="16"
                        Glyph="&#xE77A;" />
                </Button>

                <!--  back to library button  -->
                <Button
                    Background="Transparent"
                    BorderThickness="0"
                    Click="BackToLibraryButton_Click"
                    HorizontalAlignment="Right"
                    ToolTipService.ToolTip="Back to Library"
                    VerticalAlignment="Center"
                    x:Name="BackToLibraryButton">
                    <Button.Resources>
                        <SolidColorBrush x:Key="ButtonBackground">Transparent</SolidColorBrush>
                        <SolidColorBrush x:Key="ButtonBackgroundPointerOver">Transparent</SolidColorBrush>
                        <SolidColorBrush x:Key="ButtonBackgroundPressed">Transparent</SolidColorBrush>
                        <SolidColorBrush x:Key="ButtonBackgroundDisabled">Transparent</SolidColorBrush>
                    </Button.Resources>
                    <FontIcon
                        FontFamily="Segoe MDL2 Assets"
                        FontSize="16"
                        Glyph="&#xE72B;" />
                </Button>

                <!--  close button  -->
                <Button
                    Background="Transparent"
                    BorderThickness="0"
                    Click="CloseButton_Click"
                    HorizontalAlignment="Right"
                    ToolTipService.ToolTip="Close Audibly"
                    VerticalAlignment="Center"
                    x:Name="CloseButton">
                    <Button.Resources>
                        <SolidColorBrush x:Key="ButtonBackground">Transparent</SolidColorBrush>
                        <SolidColorBrush x:Key="ButtonBackgroundPointerOver">Transparent</SolidColorBrush>
                        <SolidColorBrush x:Key="ButtonBackgroundPressed">Transparent</SolidColorBrush>
                        <SolidColorBrush x:Key="ButtonBackgroundDisabled">Transparent</SolidColorBrush>
                    </Button.Resources>
                    <FontIcon
                        FontFamily="Segoe MDL2 Assets"
                        FontSize="16"
                        Glyph="&#xE711;" />
                </Button>
            </StackPanel>
        </StackPanel>

        <!--  <ProgressBar  -->
        <!--  Grid.Row="1"  -->
        <!--  HorizontalAlignment="Stretch"  -->
        <!--  Value="50" />  -->
        <Slider
            Canvas.ZIndex="0"
            Grid.Row="0"
            HorizontalAlignment="Stretch"
            Margin="-8"
            Maximum="{x:Bind PlayerViewModel.ChapterDurationMs, Mode=OneWay}"
            PointerCaptureLost="NowPlayingBar_OnPointerCaptureLost"
            ThumbToolTipValueConverter="{StaticResource ProgressSliderValueConverter}"
            Value="{x:Bind PlayerViewModel.ChapterPositionMs, Mode=OneWay}"
            VerticalAlignment="Bottom">
            <Slider.Resources>
                <x:Double x:Key="SliderHorizontalThumbWidth">8</x:Double>
                <x:Double x:Key="SliderHorizontalThumbHeight">8</x:Double>
                <x:Double x:Key="SliderPreContentMargin">16</x:Double>
                <x:Double x:Key="SliderPostContentMargin">0</x:Double>
                <!-- <x:Double x:Key="SliderHorizontalHeight">12</x:Double> -->
                <Thickness x:Key="SliderTopHeaderMargin">0,0,0,0</Thickness>
                <Thickness x:Key="SliderBorderThemeThickness">0</Thickness>
                <CornerRadius x:Key="SliderTrackCornerRadius">0</CornerRadius>
                <x:Double x:Key="SliderOutsideTickBarThemeHeight">0</x:Double>
                <StaticResource ResourceKey="ControlFillColorTransparentBrush" x:Key="SliderThumbBackground" />
                <StaticResource ResourceKey="ControlFillColorTransparentBrush" x:Key="SliderOuterThumbBackground" />
                <StaticResource ResourceKey="ControlFillColorTransparentBrush" x:Key="SliderThumbBackgroundPointerOver" />
                <StaticResource ResourceKey="ControlFillColorTransparentBrush" x:Key="SliderThumbBackgroundPressed" />
                <StaticResource ResourceKey="ControlFillColorTransparentBrush" x:Key="SliderThumbBackgroundDisabled" />
                <StaticResource ResourceKey="ControlFillColorTransparentBrush" x:Key="SliderThumbBorderBrush" />
            </Slider.Resources>
        </Slider>

        <!--  <Grid  -->
        <!--  Padding="16"  -->
        <!--  RowSpacing="16"  -->
        <!--  Visibility="Collapsed">  -->
        <!--     <Grid.RowDefinitions> -->
        <!--         <RowDefinition Height="Auto" /> -->
        <!--         <RowDefinition Height="Auto" /> -->
        <!--         <RowDefinition Height="Auto" /> -->
        <!--     </Grid.RowDefinitions> -->
        <!--    -->
        <!--  <StackPanel  -->
        <!--  Grid.Row="0"  -->
        <!--  HorizontalAlignment="Left"  -->
        <!--  Orientation="Horizontal"  -->
        <!--  Spacing="16">  -->
        <!--    -->
        <!--  ~1~  Cover Image  @1@  -->
        <!--         <userControls:CoverImageTile /> -->
        <!--    -->
        <!--  ~1~  Title & Artist  @1@  -->
        <!--         <userControls:TitleArtistStack ArtistFontSize="18.0" TitleFontSize="22.0" /> -->
        <!--     </StackPanel> -->
        <!--    -->
        <!--  ~1~  play & skip buttons  @1@  -->
        <!--     <userControls:PlaySkipButtonsStack Grid.Row="1" /> -->
        <!--    -->
        <!--  ~1~  progress bar  @1@  -->
        <!--     <userControls:NowPlayingBar Grid.Row="2" /> -->
        <!-- </Grid> -->

    </Grid>
</Page>