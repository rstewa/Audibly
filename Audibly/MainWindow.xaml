<Window
    x:Class="Audibly.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:muxc="using:Microsoft.UI.Xaml.Controls"
    x:DefaultBindMode="OneWay"
    mc:Ignorable="d">

    <StackPanel
        HorizontalAlignment="Center"
        VerticalAlignment="Bottom"
        Orientation="Vertical">

        <!--  Current AudioBook and Chapter Titles  -->
        <TextBlock
            x:Name="CurrentBook_TextBlock"
            Margin="12,0"
            Text="{x:Bind ViewModel.Audiobook.Title}"
            TextAlignment="Center" />

        <!--  Current AudioBook Cover Image  -->
        <Image
            Height="500"
            Margin="0,18"
            Source="{x:Bind ViewModel.Audiobook.CoverImgSrc}" />

        <!--  Current Time & Progress  -->
        <Grid x:Name="ProgressGrid" Height="58">
            <Grid.RowDefinitions>
                <RowDefinition Height="24" />
                <RowDefinition Height="34" />
            </Grid.RowDefinitions>

            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="100" />
            </Grid.ColumnDefinitions>

            <TextBlock
                x:Name="CurrentChapter_TextBlock"
                Grid.Row="0"
                Grid.Column="1"
                Margin="0"
                Text="{x:Bind ViewModel.Audiobook.CurChptrTitle}"
                TextAlignment="Center" />

            <TextBlock
                x:Name="CurrentTime_TextBlock"
                Grid.Row="1"
                Grid.Column="0"
                Margin="15,8,0,8"
                Text="{x:Bind ViewModel.Audiobook.CurTimeText}"
                TextAlignment="Left" />

            <muxc:ProgressBar
                x:Name="ChapterProgress_ProgressBar"
                Grid.Row="1"
                Grid.Column="1"
                Margin="0"
                Maximum="{x:Bind ViewModel.Audiobook.CurChptrDur}"
                Value="{x:Bind ViewModel.Audiobook.CurTimeMs}" />

            <TextBlock
                x:Name="CurrentChapterDuration_TextBlock"
                Grid.Row="1"
                Grid.Column="2"
                Margin="0,8,15,0"
                Text="{x:Bind ViewModel.Audiobook.CurChptrDurText}"
                TextAlignment="Right" />
        </Grid>

        <!--  AudioBook Playback Controls  -->
        <CommandBar OverflowButtonVisibility="Collapsed">
            <AppBarButton
                x:Name="OpenAudiobookButton"
                Click="OpenAudiobook_Click"
                Label="OpenAudiobook"
                ToolTipService.ToolTip="Open Audiobook">
                <AppBarButton.Icon>
                    <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE8E5;" />
                </AppBarButton.Icon>
            </AppBarButton>
            <AppBarSeparator />
            <AppBarButton
                x:Name="PreviousChapterButton"
                Click="PreviousChapterButton_Click"
                Label="PreviousChapter"
                ToolTipService.ToolTip="Previous Chapter">
                <AppBarButton.Icon>
                    <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE892;" />
                </AppBarButton.Icon>
            </AppBarButton>
            <AppBarButton
                x:Name="SkipBack10Button"
                Click="SkipBack10Button_Click"
                Label="SkipBack10"
                ToolTipService.ToolTip="Skip backward 10 seconds">
                <AppBarButton.Icon>
                    <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xED3C;" />
                </AppBarButton.Icon>
            </AppBarButton>
            <AppBarButton
                x:Name="PlayPauseButton"
                Click="PlayPauseButton_Click"
                Icon="Play"
                Label="Play"
                Tag="play"
                ToolTipService.ToolTip="Play/Pause" />
            <AppBarButton
                x:Name="SkipForward30Button"
                Click="SkipForward30Button_Click"
                Label="SkipForward30"
                ToolTipService.ToolTip="Skip forward 30 seconds">
                <AppBarButton.Icon>
                    <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xED3D;" />
                </AppBarButton.Icon>
            </AppBarButton>
            <AppBarButton
                x:Name="NextChapterButton"
                Click="NextChapterButton_Click"
                Label="NextChapter"
                ToolTipService.ToolTip="Next Chapter">
                <AppBarButton.Icon>
                    <FontIcon FontFamily="Segoe MDL2 Assets" Glyph="&#xE893;" />
                </AppBarButton.Icon>
            </AppBarButton>
            <AppBarSeparator />
            <AppBarButton
                x:Name="SettingButton"
                Click="SettingButton_Click"
                Icon="Setting"
                Label="Setting"
                ToolTipService.ToolTip="Settings" />
        </CommandBar>
    </StackPanel>
</Window>